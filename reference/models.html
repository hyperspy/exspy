
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../_static/exspy.ico" rel="icon" type="image/x-icon">
    <title>exspy.models &#8212; eXSpy  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/models';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="exspy.signals" href="signals.html" />
    <link rel="prev" title="exspy.material" href="material.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/exspy-banner-light.svg" class="logo__image only-light" alt="eXSpy"/>
    <img src="../_static/exspy-banner-dark.svg" class="logo__image only-dark pst-js-only" alt="eXSpy"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../changes.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/hyperspy/exspy-demos">
    Tutorial
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/hyperspy/exspy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/hyperspy/hyperspy" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../changes.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/hyperspy/exspy-demos">
    Tutorial
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/hyperspy/exspy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/hyperspy/hyperspy" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="components.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.components</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.data</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="material.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.material</span></code></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.models</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="signals.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.signals</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.eds.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.utils.eds</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.eels.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.utils.eels</span></code></a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.models</span></code></span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="exspy-models">
<h1><a class="reference internal" href="#module-exspy.models" title="exspy.models"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.models</span></code></a><a class="headerlink" href="#exspy-models" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#exspy.models.EDSModel" title="exspy.models.EDSModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EDSModel</span></code></a>(spectrum[, auto_background, ...])</p></td>
<td><p>Build and fit a model of an EDS Signal1D.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#exspy.models.EDSSEMModel" title="exspy.models.EDSSEMModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EDSSEMModel</span></code></a>(spectrum[, auto_background, ...])</p></td>
<td><p>Build and fit a model to EDS data acquired in the SEM.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#exspy.models.EDSTEMModel" title="exspy.models.EDSTEMModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EDSTEMModel</span></code></a>(spectrum[, auto_background, ...])</p></td>
<td><p>Build and fit a model to EDS data acquired in the TEM.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#exspy.models.EELSModel" title="exspy.models.EELSModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EELSModel</span></code></a>(signal1D[, auto_background, ...])</p></td>
<td><p>Build an EELS model.</p></td>
</tr>
</tbody>
</table>
</div>
<p id="module-exspy.models">Models</p>
<dl class="py class">
<dt class="sig sig-object py" id="exspy.models.EDSModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">exspy.models.</span></span><span class="sig-name descname"><span class="pre">EDSModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_add_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/base_classes/model/model1d.html#hyperspy.models.model1d.Model1D" title="(in HyperSpy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model1D</span></code></a></p>
<p>Build and fit a model of an EDS Signal1D.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spectrum</strong> (<a class="reference internal" href="signals.html#exspy.signals.EDSSpectrum" title="exspy.signals.EDSSpectrum"><em>EDSSpectrum</em></a><em> (or </em><em>any EDSSpectrum subclass</em><em>) </em><em>instance.</em>)</p></li>
<li><p><strong>auto_add_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, automatically add Gaussians for all X-rays generated
in the energy range by an element, using the edsmodel.add_family_lines
method.</p></li>
<li><p><strong>auto_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, adds automatically a polynomial order 6 to the model,
using the edsmodel.add_polynomial_background method.</p></li>
<li><p><strong>creator.</strong> (<em>Any extra arguments are passed to the Model</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">fit_background</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">calibrate_energy_axis</span><span class="p">(</span><span class="s1">&#39;resolution&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">calibrate_xray_lines</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Au_Ma&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">calibrate_xray_lines</span><span class="p">(</span><span class="s1">&#39;sub_weight&#39;</span><span class="p">,[</span><span class="s1">&#39;Mn_La&#39;</span><span class="p">],</span> <span class="n">bound</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.add_family_lines">
<span class="sig-name descname"><span class="pre">add_family_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'from_elements'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.add_family_lines" title="Link to this definition">#</a></dt>
<dd><p>Create the Xray-lines instances and configure them appropiately</p>
<p>If a X-ray line is given, all the the lines of the familiy is added.
For instance if Zn Ka is given, Zn Kb is added too. The main lines
(alpha) is added to self.xray_lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>xray_lines</strong> (<em>{None</em><em>, </em><em>'from_elements'</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>string}</em>) – If None, if <cite>metadata</cite> contains <cite>xray_lines</cite> list of lines use
those. If ‘from_elements’, add all lines from the elements contains
in <cite>metadata</cite>. Alternatively, provide an iterable containing
a list of valid X-ray lines symbols. (eg. (‘Al_Ka’,’Zn_Ka’)).</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.13)"><strong>NotImplementedError</strong></a> – If the signal axis is a non-uniform axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.add_polynomial_background">
<span class="sig-name descname"><span class="pre">add_polynomial_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.add_polynomial_background" title="Link to this definition">#</a></dt>
<dd><p>Add a polynomial background.</p>
<p>the background is added to self.background_components</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The order of the polynomial</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.as_dictionary">
<span class="sig-name descname"><span class="pre">as_dictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fullcopy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.as_dictionary" title="Link to this definition">#</a></dt>
<dd><p>Returns a dictionary of the model, including all components, degrees
of freedom (dof) and chi-squared (chisq) with values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fullcopy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional True</em>) – Copies of objects are stored, not references. If any found,
functions will be pickled and signals converted to dictionaries</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>dictionary</strong> – A dictionary including at least the following fields:</p>
<ul class="simple">
<li><p>components: a list of dictionaries of components, one per
component</p></li>
<li><p>_whitelist: a dictionary with keys used as references for saved
attributes, for more information, see
<a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/utils/index.html#hyperspy.misc.export_dictionary.export_to_dictionary" title="(in HyperSpy v2.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">export_to_dictionary()</span></code></a></p></li>
<li><p>any field from _whitelist.keys()</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Lorentzian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Lorentzian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">as_dictionary</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span><span class="n">dictionary</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.calibrate_energy_axis">
<span class="sig-name descname"><span class="pre">calibrate_energy_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calibrate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'resolution'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all_alpha'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.calibrate_energy_axis" title="Link to this definition">#</a></dt>
<dd><p>Calibrate the resolution, the scale or the offset of the energy axis
by fitting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calibrate</strong> (<em>'resolution'</em><em> or </em><em>'scale'</em><em> or </em><em>'offset'</em>) – If ‘resolution’, fits the width of Gaussians place at all x-ray
lines. The width is given by a model of the detector resolution,
obtained by extrapolating the <cite>energy_resolution_MnKa</cite> in <cite>metadata</cite>.
This method will update the value of <cite>energy_resolution_MnKa</cite>.
If ‘scale’, calibrate the scale of the energy axis.
If ‘offset’, calibrate the offset of the energy axis.</p></li>
<li><p><strong>xray_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>'all_alpha'</em>) – The Xray lines. If ‘all_alpha’, fit all using all alpha lines</p></li>
<li><p><strong>**kwargs</strong> (<em>extra key word arguments</em>) – All extra key word arguments are passed to fit or
multifit, depending on the value of kind.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.calibrate_xray_lines">
<span class="sig-name descname"><span class="pre">calibrate_xray_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calibrate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'energy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'single'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.calibrate_xray_lines" title="Link to this definition">#</a></dt>
<dd><p>Calibrate individually the X-ray line parameters.</p>
<p>The X-ray line energy, the weight of the sub-lines and the X-ray line
width can be calibrated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calibrate</strong> (<em>'energy'</em><em> or </em><em>'sub_weight'</em><em> or </em><em>'width'</em>) – If ‘energy’, calibrate the X-ray line energy.
If ‘sub_weight’, calibrate the ratio between the main line
alpha and the other sub-lines of the family
If ‘width’, calibrate the X-ray line width.</p></li>
<li><p><strong>xray_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>'all'</em>) – The Xray lines. If ‘all’, fit all lines</p></li>
<li><p><strong>bounds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – for ‘energy’ and ‘width’ the bound in energy, in eV
for ‘sub_weight’ Bound the height of the peak to fraction of
its height</p></li>
<li><p><strong>kind</strong> (<em>{'single'</em><em>, </em><em>'multi'}</em>) – If ‘single’ fit only the current location. If ‘multi’
use multifit.</p></li>
<li><p><strong>**kwargs</strong> (<em>extra key word arguments</em>) – All extra key word arguments are passed to fit or
multifit, depending on the value of kind.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.disable_xray_lines">
<span class="sig-name descname"><span class="pre">disable_xray_lines</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.disable_xray_lines" title="Link to this definition">#</a></dt>
<dd><p>Disable the X-ray lines components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.enable_xray_lines">
<span class="sig-name descname"><span class="pre">enable_xray_lines</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.enable_xray_lines" title="Link to this definition">#</a></dt>
<dd><p>Enable the X-ray lines components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.fit_background">
<span class="sig-name descname"><span class="pre">fit_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">windows_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(4.0,</span> <span class="pre">3.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'single'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.fit_background" title="Link to this definition">#</a></dt>
<dd><p>Fit the background in the energy range containing no X-ray line.</p>
<p>After the fit, the background is fixed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_energy</strong> (<em>{float</em><em>, </em><em>None}</em>) – If float, limit the range of energies from the left to the
given value.</p></li>
<li><p><strong>end_energy</strong> (<em>{float</em><em>, </em><em>None}</em>) – If float, limit the range of energies from the right to the
given value.</p></li>
<li><p><strong>windows_sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> of </em><em>two float</em>) – The (lower, upper) bounds around each X-ray line, each as a float,
to define the energy range free of X-ray lines.</p></li>
<li><p><strong>kind</strong> (<em>{'single'</em><em>, </em><em>'multi'}</em>) – If ‘single’ fit only the current location. If ‘multi’
use multifit.</p></li>
<li><p><strong>**kwargs</strong> (<em>extra key word arguments</em>) – All extra key word arguments are passed to fit or multifit</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EDSModel.free_background" title="exspy.models.EDSModel.free_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_background</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.fix_background">
<span class="sig-name descname"><span class="pre">fix_background</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.fix_background" title="Link to this definition">#</a></dt>
<dd><p>Fix the background components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.fix_sub_xray_lines_weight">
<span class="sig-name descname"><span class="pre">fix_sub_xray_lines_weight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.fix_sub_xray_lines_weight" title="Link to this definition">#</a></dt>
<dd><p>Fix the weight of a sub X-ray lines to the main X-ray lines</p>
<p>Establish the twin on the height of sub-Xray lines (non alpha)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.fix_xray_lines_energy">
<span class="sig-name descname"><span class="pre">fix_xray_lines_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.fix_xray_lines_energy" title="Link to this definition">#</a></dt>
<dd><p>Fix the X-ray line energy (shift or centre of the Gaussian)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>'all'</em><em>, or </em><em>'all_alpha'</em>) – The Xray lines. If ‘all’, fit all lines. If ‘all_alpha’ fit all
using all alpha lines.</p></li>
<li><p><strong>bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – the bound around the actual energy, in keV or eV</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.fix_xray_lines_width">
<span class="sig-name descname"><span class="pre">fix_xray_lines_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.fix_xray_lines_width" title="Link to this definition">#</a></dt>
<dd><p>Fix the X-ray line width (sigma of the Gaussian)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>'all'</em><em>, or </em><em>'all_alpha'</em>) – The Xray lines. If ‘all’, fit all lines. If ‘all_alpha’ fit all
using all alpha lines.</p></li>
<li><p><strong>bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – the bound around the actual energy, in keV or eV</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.free_background">
<span class="sig-name descname"><span class="pre">free_background</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.free_background" title="Link to this definition">#</a></dt>
<dd><p>Free the yscale of the background components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.free_sub_xray_lines_weight">
<span class="sig-name descname"><span class="pre">free_sub_xray_lines_weight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.free_sub_xray_lines_weight" title="Link to this definition">#</a></dt>
<dd><p>Free the weight of a sub X-ray lines</p>
<p>Remove the twin on the height of sub-Xray lines (non alpha)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>'all'</em>) – The Xray lines. If ‘all’, fit all lines</p></li>
<li><p><strong>bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Bound the height of the peak to a fraction of
its height</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.free_xray_lines_energy">
<span class="sig-name descname"><span class="pre">free_xray_lines_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.free_xray_lines_energy" title="Link to this definition">#</a></dt>
<dd><p>Free the X-ray line energy (shift or centre of the Gaussian)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>'all'</em>) – The Xray lines. If ‘all’, fit all lines</p></li>
<li><p><strong>bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – the bound around the actual energy, in keV or eV</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.free_xray_lines_width">
<span class="sig-name descname"><span class="pre">free_xray_lines_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.free_xray_lines_width" title="Link to this definition">#</a></dt>
<dd><p>Free the X-ray line width (sigma of the Gaussian)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>'all'</em>) – The Xray lines. If ‘all’, fit all lines</p></li>
<li><p><strong>bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – the bound around the actual energy, in keV or eV</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.get_lines_intensity">
<span class="sig-name descname"><span class="pre">get_lines_intensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xray_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_one</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('a',)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.get_lines_intensity" title="Link to this definition">#</a></dt>
<dd><p>Return the fitted intensity of the X-ray lines.</p>
<p>Return the area under the gaussian corresping to the X-ray lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xray_lines</strong> (<em>{None</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>string}</em>) – If None,
if <cite>metadata.Sample.elements.xray_lines</cite> contains a
list of lines use those.
If <cite>metadata.Sample.elements.xray_lines</cite> is undefined
or empty but <cite>metadata.Sample.elements</cite> is defined,
use the same syntax as <cite>add_line</cite> to select a subset of lines
for the operation.
Alternatively, provide an iterable containing
a list of valid X-ray lines symbols.</p></li>
<li><p><strong>plot_result</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, plot the calculated line intensities. If the current
object is a single spectrum it prints the result instead.</p></li>
<li><p><strong>only_one</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If False, use all the lines of each element in the data spectral
range. If True use only the line at the highest energy
above an overvoltage of 2 (&lt; beam energy / 2).</p></li>
<li><p><strong>only_lines</strong> (<em>{None</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>strings}</em>) – If not None, use only the given lines.</p></li>
<li><p><strong>kwargs</strong> – The extra keyword arguments for plotting. See
<cite>utils.plot.plot_signals</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>intensities</strong> – A list containing the intensities as Signal subclasses.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">multifit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">([</span><span class="s2">&quot;C_Ka&quot;</span><span class="p">,</span> <span class="s2">&quot;Ta_Ma&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EDSModel.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thing</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSModel.remove" title="Link to this definition">#</a></dt>
<dd><p>Remove component from model.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">])</span>
</pre></div>
</div>
<p>You could remove <code class="docutils literal notranslate"><span class="pre">g1</span></code> like this</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">g1</span><span class="p">)</span>
</pre></div>
</div>
<p>Or like this:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="exspy.models.EDSSEMModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">exspy.models.</span></span><span class="sig-name descname"><span class="pre">EDSSEMModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_add_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSSEMModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#exspy.models.EDSModel" title="exspy.models.edsmodel.EDSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">EDSModel</span></code></a></p>
<p>Build and fit a model to EDS data acquired in the SEM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spectrum</strong> (<a class="reference internal" href="signals.html#exspy.signals.EDSSEMSpectrum" title="exspy.signals.EDSSEMSpectrum"><em>EDSSEMSpectrum</em></a>)</p></li>
<li><p><strong>auto_add_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, automatically add Gaussians for all X-rays generated
in the energy range by an element, using the edsmodel.add_family_lines
method.</p></li>
<li><p><strong>auto_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, adds automatically a polynomial order 6 to the model,
using the edsmodel.add_polynomial_background method.</p></li>
<li><p><strong>constructor.</strong> (<em>Any extra arguments are passed to the Model</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="exspy.models.EDSTEMModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">exspy.models.</span></span><span class="sig-name descname"><span class="pre">EDSTEMModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_add_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EDSTEMModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#exspy.models.EDSModel" title="exspy.models.edsmodel.EDSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">EDSModel</span></code></a></p>
<p>Build and fit a model to EDS data acquired in the TEM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spectrum</strong> (<a class="reference internal" href="signals.html#exspy.signals.EDSTEMSpectrum" title="exspy.signals.EDSTEMSpectrum"><em>EDSTEMSpectrum</em></a>)</p></li>
<li><p><strong>auto_add_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, automatically add Gaussians for all X-rays generated
in the energy range by an element, using the edsmodel.add_family_lines
method.</p></li>
<li><p><strong>auto_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, adds automatically a polynomial order 6 to the model,
using the edsmodel.add_polynomial_background method.</p></li>
<li><p><strong>constructor.</strong> (<em>Any extra arguments are passed to the Model</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="exspy.models.EELSModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">exspy.models.</span></span><span class="sig-name descname"><span class="pre">EELSModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal1D</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_add_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_loss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dictionary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gos_file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/base_classes/model/model1d.html#hyperspy.models.model1d.Model1D" title="(in HyperSpy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model1D</span></code></a></p>
<p>Build an EELS model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>GOS</strong> (<em>'hydrogenic'</em><em>, </em><em>'dft'</em><em>, </em><em>'dirac'</em><em>, </em><em>'Hartree-Slater'.</em>)</p></li>
<li><p><strong>spectrum</strong> (<em>a EELSSpectrum instance</em>)</p></li>
<li><p><strong>ll</strong> (<em>None</em><em> or </em><a class="reference internal" href="signals.html#exspy.signals.EELSSpectrum" title="exspy.signals.EELSSpectrum"><em>EELSSpectrum</em></a>) – If an EELSSpectrum is provided, it will be assumed that it is
a low-loss EELS spectrum, and it will be used to simulate the
effect of multiple scattering by convolving it with the EELS
spectrum.</p></li>
<li><p><strong>auto_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, and if spectrum is an EELS instance adds automatically
a powerlaw to the model and estimate the parameters by the
two-area method.</p></li>
<li><p><strong>auto_add_edges</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If True, and if spectrum is an EELS instance, it will automatically
add the ionization edges as defined in the
<code class="xref py py-class docutils literal notranslate"><span class="pre">EELSSpectrum</span></code> instance. Adding a new element to
the spectrum using the <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_elements()</span></code>
method automatically add the corresponding ionisation edges to the model.</p></li>
<li><p><strong>GOS</strong> – The GOS to use. Default is <code class="docutils literal notranslate"><span class="pre">'dft'</span></code>.</p></li>
<li><p><strong>gos_file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>None</em>) – Only with GOS=’dft’ or ‘dirac’. Specify the file path of the gosh file
to use. If None, use the file from doi:10.5281/zenodo.7645765</p></li>
<li><p><strong>dictionary</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – A dictionary to be used to recreate a model. Usually generated using
<code class="xref py py-meth docutils literal notranslate"><span class="pre">as_dictionary()</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.append" title="Link to this definition">#</a></dt>
<dd><p>Add component to Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>thing</strong> (<a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/base_classes/model/component.html#hyperspy.component.Component" title="(in HyperSpy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a>) – The component to add to the model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.disable_background">
<span class="sig-name descname"><span class="pre">disable_background</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.disable_background" title="Link to this definition">#</a></dt>
<dd><p>Disable the background components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.disable_edges">
<span class="sig-name descname"><span class="pre">disable_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.disable_edges" title="Link to this definition">#</a></dt>
<dd><p>Disable the edges listed in edges_list. If edges_list is None (default)
all the edges with onset in the spectrum energy region will be
disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.disable_fine_structure">
<span class="sig-name descname"><span class="pre">disable_fine_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.disable_fine_structure" title="Link to this definition">#</a></dt>
<dd><p>Disable the fine structure of the edges listed in edges_list.
If edges_list is None (default) the fine structure of all the edges
with onset in the spectrum energy region will be disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.disable_free_onset_energy">
<span class="sig-name descname"><span class="pre">disable_free_onset_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.disable_free_onset_energy" title="Link to this definition">#</a></dt>
<dd><p>Disable the automatic freeing of the onset_energy parameter during a
smart fit for the edges listed in edges_list.
If edges_list is None (default) the onset_energy of all the edges
with onset in the spectrum energy region will not be freed.
Note that if their attribute edge.onset_energy.free is True, the
parameter will be free during the smart fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.enable_background">
<span class="sig-name descname"><span class="pre">enable_background</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.enable_background" title="Link to this definition">#</a></dt>
<dd><p>Enable the background components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.enable_edges">
<span class="sig-name descname"><span class="pre">enable_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.enable_edges" title="Link to this definition">#</a></dt>
<dd><p>Enable the edges listed in edges_list. If edges_list is
None (default) all the edges with onset in the spectrum energy
region will be enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.enable_fine_structure">
<span class="sig-name descname"><span class="pre">enable_fine_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.enable_fine_structure" title="Link to this definition">#</a></dt>
<dd><p>Enable the fine structure of the edges listed in edges_list.</p>
<p>If edges_list is None (default) the fine structure of all the edges
with onset in the spectrum energy region will be enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.enable_free_onset_energy">
<span class="sig-name descname"><span class="pre">enable_free_onset_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.enable_free_onset_energy" title="Link to this definition">#</a></dt>
<dd><p>Enable the automatic freeing of the onset_energy parameter during a
smart fit for the edges listed in edges_list.
If edges_list is None (default) the onset_energy of all the edges
with onset in the spectrum energy region will be freed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'std'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.fit" title="Link to this definition">#</a></dt>
<dd><p>Fits the model to the experimental data.</p>
<p>Read more in the <a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/user_guide/model/fitting_model.html#model-fitting" title="(in HyperSpy v2.3)"><span class="xref std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> (<em>{&quot;std&quot;</em><em>, </em><em>&quot;smart&quot;}</em><em>, </em><em>default &quot;std&quot;</em>) – If “std”, performs standard fit. If “smart”,
performs a smart_fit - for more details see
the <a class="reference internal" href="../user_guide/eels.html#eels-fitting"><span class="std std-ref">User Guide</span></a>.</p></li>
<li><p><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>default None</em>) – <p>The optimization algorithm used to perform the fitting.</p>
<ul>
<li><p>Non-linear optimizers:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code> performs least-squares optimization using the
Levenberg-Marquardt algorithm, and supports bounds
on parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code> performs least-squares optimization using the
Trust Region Reflective algorithm, and supports
bounds on parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code> performs least-squares optimization using the
dogleg algorithm with rectangular trust regions, and
supports bounds on parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;odr&quot;</span></code> performs the optimization using the orthogonal
distance regression (ODR) algorithm. It does not support
bounds on parameters. See <code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.odr</span></code> for more details.</p></li>
<li><p>All of the available methods for <code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.minimize()</span></code>
can be used here. See the <a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/user_guide/model/fitting_model.html#model-fitting" title="(in HyperSpy v2.3)"><span class="xref std std-ref">User Guide</span></a>
documentation for more details.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Differential</span> <span class="pre">Evolution&quot;</span></code> is a global optimization method.
It does support bounds on parameters. See
<code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.differential_evolution()</span></code> for more
details on available options.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Dual</span> <span class="pre">Annealing&quot;</span></code> is a global optimization method.
It does support bounds on parameters. See
<code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.dual_annealing()</span></code> for more
details on available options. Requires <code class="docutils literal notranslate"><span class="pre">scipy</span> <span class="pre">&gt;=</span> <span class="pre">1.2.0</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;SHGO&quot;</span></code> (simplicial homology global optimization) is a global
optimization method. It does support bounds on parameters. See
<code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.shgo()</span></code> for more details on available
options. Requires <code class="docutils literal notranslate"><span class="pre">scipy</span> <span class="pre">&gt;=</span> <span class="pre">1.2.0</span></code>.</p></li>
</ul>
</li>
<li><p>Linear optimizers:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lstsq&quot;</span></code> - least square using <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.lstsq.html#numpy.linalg.lstsq" title="(in NumPy v2.2)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.linalg.lstsq()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ols&quot;</span></code> - Ordinary least square using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.LinearRegression</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;nnls&quot;</span></code> - Linear regression with positive constraints on the
regression coefficients using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.LinearRegression</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ridge&quot;</span></code> - least square supporting regularisation using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.Ridge</span></code>. The parameter
<code class="docutils literal notranslate"><span class="pre">alpha</span></code> (default set to 0.01) controlling regularization
strength can be passed as keyword argument, see
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.Ridge</span></code> for more information.</p></li>
</ul>
</li>
</ul>
</p></li>
<li><p><strong>loss_function</strong> ({<code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;ML-poisson&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;huber&quot;</span></code>, callable}, default <code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code>) – <p>The loss function to use for minimization. Only <code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code> is available
if <code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;odr&quot;</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code> minimizes the least-squares loss function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ML-poisson&quot;</span></code> minimizes the negative log-likelihood for
Poisson-distributed data. Also known as Poisson maximum
likelihood estimation (MLE).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;huber&quot;</span></code> minimize the Huber loss function. The delta value
of the Huber function is controlled by the <code class="docutils literal notranslate"><span class="pre">huber_delta</span></code>
keyword argument (the default value is 1.0).</p></li>
<li><p>callable supports passing your own minimization function.</p></li>
</ul>
</p></li>
<li><p><strong>grad</strong> ({<code class="docutils literal notranslate"><span class="pre">&quot;fd&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;analytical&quot;</span></code>, callable, None}, default <code class="docutils literal notranslate"><span class="pre">&quot;fd&quot;</span></code>) – <p>Whether to use information about the gradient of the loss function
as part of the optimization. This parameter has no effect if
<code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is a derivative-free or global optimization method.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fd&quot;</span></code> uses a finite difference scheme (if available) for numerical
estimation of the gradient. The scheme can be further controlled
with the <code class="docutils literal notranslate"><span class="pre">fd_scheme</span></code> keyword argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;analytical&quot;</span></code> uses the analytical gradient (if available) to speed
up the optimization, since the gradient does not need to be estimated.</p></li>
<li><p>callable should be a function that returns the gradient vector.</p></li>
<li><p>None means that no gradient information is used or estimated. Not
available if <code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code>.</p></li>
</ul>
</p></li>
<li><p><strong>bounded</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, performs bounded parameter optimization if
supported by <code class="docutils literal notranslate"><span class="pre">optimizer</span></code>.</p></li>
<li><p><strong>update_plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, the plot is updated during the optimization
process. It slows down the optimization, but it enables
visualization of the optimization progress.</p></li>
<li><p><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, print information about the fitting results, which
are also stored in <code class="docutils literal notranslate"><span class="pre">model.fit_output</span></code> in the form of
a <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.optimize.OptimizeResult</span></code> object.</p></li>
<li><p><strong>return_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, returns the fitting results in the form of
a <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.optimize.OptimizeResult</span></code> object.</p></li>
<li><p><strong>fd_scheme</strong> (str {<code class="docutils literal notranslate"><span class="pre">&quot;2-point&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;3-point&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cs&quot;</span></code>}, default <code class="docutils literal notranslate"><span class="pre">&quot;2-point&quot;</span></code>) – If <code class="docutils literal notranslate"><span class="pre">grad='fd'</span></code>, selects the finite difference scheme to use.
See <code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.minimize()</span></code> for details. Ignored if
<code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code>.</p></li>
<li><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Any extra keyword argument will be passed to the chosen
optimizer. For more information, read the docstring of the
optimizer of your choice in <code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.optimize</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/base_classes/model/basemodel.html#hyperspy.model.BaseModel.fit" title="(in HyperSpy v2.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit()</span></code></a></p></li>
<li><p><a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/base_classes/model/basemodel.html#hyperspy.model.BaseModel.multifit" title="(in HyperSpy v2.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multifit()</span></code></a></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">smart_fit()</span></code></p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.fit_background">
<span class="sig-name descname"><span class="pre">fit_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_current</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.fit_background" title="Link to this definition">#</a></dt>
<dd><p>Fit the background to the first active ionization edge
in the energy range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_energy</strong> (<em>{float</em><em>, </em><em>None}</em><em>, </em><em>optional</em>) – If float, limit the range of energies from the left to the
given value. Default None.</p></li>
<li><p><strong>only_current</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, only fit the background at the current coordinates.
Default True.</p></li>
<li><p><strong>**kwargs</strong> (<em>extra key word arguments</em>) – All extra key word arguments are passed to fit or
multifit.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.fix_edges">
<span class="sig-name descname"><span class="pre">fix_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.fix_edges" title="Link to this definition">#</a></dt>
<dd><p>Fixes all the parameters of the edges given in edges_list.
If edges_list is None (default) all the edges will be fixed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.fix_fine_structure">
<span class="sig-name descname"><span class="pre">fix_fine_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.fix_fine_structure" title="Link to this definition">#</a></dt>
<dd><p>Fixes the fine structure of the edges given in edges_list.
If edges_list is None (default) all the edges will be fixed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.free_edges">
<span class="sig-name descname"><span class="pre">free_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.free_edges" title="Link to this definition">#</a></dt>
<dd><p>Frees all the parameters of the edges given in edges_list.
If edges_list is None (default) all the edges will be freed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.free_fine_structure">
<span class="sig-name descname"><span class="pre">free_fine_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.free_fine_structure" title="Link to this definition">#</a></dt>
<dd><p>Frees the fine structure of the edges given in edges_list.
If edges_list is None (default) all the edges will be freed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.quantify">
<span class="sig-name descname"><span class="pre">quantify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.quantify" title="Link to this definition">#</a></dt>
<dd><p>Prints the value of the intensity of all the independent
active EELS core loss edges defined in the model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">component</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.remove" title="Link to this definition">#</a></dt>
<dd><p>Remove component from model.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">])</span>
</pre></div>
</div>
<p>You could remove <code class="docutils literal notranslate"><span class="pre">g1</span></code> like this</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">g1</span><span class="p">)</span>
</pre></div>
</div>
<p>Or like this:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.remove_fine_structure_data">
<span class="sig-name descname"><span class="pre">remove_fine_structure_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.remove_fine_structure_data" title="Link to this definition">#</a></dt>
<dd><p>Remove the fine structure data from the fitting routine as
defined in the fine_structure_width parameter of the
component.EELSCLEdge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges_list</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference internal" href="components.html#exspy.components.EELSCLEdge" title="exspy.components.EELSCLEdge"><em>EELSCLEdge</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><em>edge names</em>) – If None, the operation is performed on all the edges in the model.
Otherwise, it will be performed only on the listed components.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.enable_edges" title="exspy.models.EELSModel.enable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_edges" title="exspy.models.EELSModel.disable_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_background" title="exspy.models.EELSModel.enable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_background" title="exspy.models.EELSModel.disable_background"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_background</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_fine_structure" title="exspy.models.EELSModel.enable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_fine_structure" title="exspy.models.EELSModel.disable_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.enable_free_onset_energy" title="exspy.models.EELSModel.enable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">enable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.disable_free_onset_energy" title="exspy.models.EELSModel.disable_free_onset_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disable_free_onset_energy</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_edges" title="exspy.models.EELSModel.fix_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_edges" title="exspy.models.EELSModel.free_edges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_edges</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.fix_fine_structure" title="exspy.models.EELSModel.fix_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fix_fine_structure</span></code></a>, <a class="reference internal" href="#exspy.models.EELSModel.free_fine_structure" title="exspy.models.EELSModel.free_fine_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_fine_structure</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.resolve_fine_structure">
<span class="sig-name descname"><span class="pre">resolve_fine_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preedge_safe_window_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.resolve_fine_structure" title="Link to this definition">#</a></dt>
<dd><p>Adjust the fine structure of all edges to avoid overlapping</p>
<p>This function is called automatically every time the position of an edge
changes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>preedge_safe_window_width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – minimum distance between the fine structure of an ionization edge
and that of the following one. Default 2 (eV).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.resume_auto_fine_structure_width">
<span class="sig-name descname"><span class="pre">resume_auto_fine_structure_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.resume_auto_fine_structure_width" title="Link to this definition">#</a></dt>
<dd><p>Enable the automatic adjustment of the core-loss edges fine
structure width.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, also execute the automatic adjustment (default).</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.suspend_auto_fine_structure_width" title="exspy.models.EELSModel.suspend_auto_fine_structure_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">suspend_auto_fine_structure_width</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.set_all_edges_intensities_positive">
<span class="sig-name descname"><span class="pre">set_all_edges_intensities_positive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.set_all_edges_intensities_positive" title="Link to this definition">#</a></dt>
<dd><p>Set all edges intensities positive by setting <code class="docutils literal notranslate"><span class="pre">ext_force_positive</span></code>
and <code class="docutils literal notranslate"><span class="pre">ext_bounded</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="exspy.models.EELSModel.signal">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">signal</span></span><a class="headerlink" href="#exspy.models.EELSModel.signal" title="Link to this definition">#</a></dt>
<dd><p>The signal data to fit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.smart_fit">
<span class="sig-name descname"><span class="pre">smart_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_energy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.smart_fit" title="Link to this definition">#</a></dt>
<dd><p>Fits EELS edges in a cascade style.</p>
<p>The fitting procedure acts in iterative manner along
the energy-loss-axis. First it fits only the background
up to the first edge. It continues by deactivating all
edges except the first one, then performs the fit. Then
it only activates the first two, fits, and repeats
this until all edges are fitted simultaneously.</p>
<p>Other, non-EELSCLEdge components, are never deactivated,
and fitted on every iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_energy</strong> (<em>{float</em><em>, </em><em>None}</em>) – If float, limit the range of energies from the left to the
given value.</p></li>
<li><p><strong>optimizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>default None</em>) – <p>The optimization algorithm used to perform the fitting.</p>
<ul>
<li><p>Non-linear optimizers:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code> performs least-squares optimization using the
Levenberg-Marquardt algorithm, and supports bounds
on parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code> performs least-squares optimization using the
Trust Region Reflective algorithm, and supports
bounds on parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code> performs least-squares optimization using the
dogleg algorithm with rectangular trust regions, and
supports bounds on parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;odr&quot;</span></code> performs the optimization using the orthogonal
distance regression (ODR) algorithm. It does not support
bounds on parameters. See <code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.odr</span></code> for more details.</p></li>
<li><p>All of the available methods for <code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.minimize()</span></code>
can be used here. See the <a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/user_guide/model/fitting_model.html#model-fitting" title="(in HyperSpy v2.3)"><span class="xref std std-ref">User Guide</span></a>
documentation for more details.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Differential</span> <span class="pre">Evolution&quot;</span></code> is a global optimization method.
It does support bounds on parameters. See
<code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.differential_evolution()</span></code> for more
details on available options.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Dual</span> <span class="pre">Annealing&quot;</span></code> is a global optimization method.
It does support bounds on parameters. See
<code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.dual_annealing()</span></code> for more
details on available options. Requires <code class="docutils literal notranslate"><span class="pre">scipy</span> <span class="pre">&gt;=</span> <span class="pre">1.2.0</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;SHGO&quot;</span></code> (simplicial homology global optimization) is a global
optimization method. It does support bounds on parameters. See
<code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.shgo()</span></code> for more details on available
options. Requires <code class="docutils literal notranslate"><span class="pre">scipy</span> <span class="pre">&gt;=</span> <span class="pre">1.2.0</span></code>.</p></li>
</ul>
</li>
<li><p>Linear optimizers:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;lstsq&quot;</span></code> - least square using <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.lstsq.html#numpy.linalg.lstsq" title="(in NumPy v2.2)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.linalg.lstsq()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ols&quot;</span></code> - Ordinary least square using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.LinearRegression</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;nnls&quot;</span></code> - Linear regression with positive constraints on the
regression coefficients using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.LinearRegression</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ridge&quot;</span></code> - least square supporting regularisation using
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.Ridge</span></code>. The parameter
<code class="docutils literal notranslate"><span class="pre">alpha</span></code> (default set to 0.01) controlling regularization
strength can be passed as keyword argument, see
<code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.linear_model.Ridge</span></code> for more information.</p></li>
</ul>
</li>
</ul>
</p></li>
<li><p><strong>loss_function</strong> ({<code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;ML-poisson&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;huber&quot;</span></code>, callable}, default <code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code>) – <p>The loss function to use for minimization. Only <code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code> is available
if <code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;odr&quot;</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ls&quot;</span></code> minimizes the least-squares loss function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;ML-poisson&quot;</span></code> minimizes the negative log-likelihood for
Poisson-distributed data. Also known as Poisson maximum
likelihood estimation (MLE).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;huber&quot;</span></code> minimize the Huber loss function. The delta value
of the Huber function is controlled by the <code class="docutils literal notranslate"><span class="pre">huber_delta</span></code>
keyword argument (the default value is 1.0).</p></li>
<li><p>callable supports passing your own minimization function.</p></li>
</ul>
</p></li>
<li><p><strong>grad</strong> ({<code class="docutils literal notranslate"><span class="pre">&quot;fd&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;analytical&quot;</span></code>, callable, None}, default <code class="docutils literal notranslate"><span class="pre">&quot;fd&quot;</span></code>) – <p>Whether to use information about the gradient of the loss function
as part of the optimization. This parameter has no effect if
<code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is a derivative-free or global optimization method.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fd&quot;</span></code> uses a finite difference scheme (if available) for numerical
estimation of the gradient. The scheme can be further controlled
with the <code class="docutils literal notranslate"><span class="pre">fd_scheme</span></code> keyword argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;analytical&quot;</span></code> uses the analytical gradient (if available) to speed
up the optimization, since the gradient does not need to be estimated.</p></li>
<li><p>callable should be a function that returns the gradient vector.</p></li>
<li><p>None means that no gradient information is used or estimated. Not
available if <code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code>.</p></li>
</ul>
</p></li>
<li><p><strong>bounded</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, performs bounded parameter optimization if
supported by <code class="docutils literal notranslate"><span class="pre">optimizer</span></code>.</p></li>
<li><p><strong>update_plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, the plot is updated during the optimization
process. It slows down the optimization, but it enables
visualization of the optimization progress.</p></li>
<li><p><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default False</em>) – If True, print information about the fitting results, which
are also stored in <code class="docutils literal notranslate"><span class="pre">model.fit_output</span></code> in the form of
a <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.optimize.OptimizeResult</span></code> object.</p></li>
<li><p><strong>return_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, returns the fitting results in the form of
a <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.optimize.OptimizeResult</span></code> object.</p></li>
<li><p><strong>fd_scheme</strong> (str {<code class="docutils literal notranslate"><span class="pre">&quot;2-point&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;3-point&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cs&quot;</span></code>}, default <code class="docutils literal notranslate"><span class="pre">&quot;2-point&quot;</span></code>) – If <code class="docutils literal notranslate"><span class="pre">grad='fd'</span></code>, selects the finite difference scheme to use.
See <code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.minimize()</span></code> for details. Ignored if
<code class="docutils literal notranslate"><span class="pre">optimizer</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&quot;lm&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;trf&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dogbox&quot;</span></code>.</p></li>
<li><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Any extra keyword argument will be passed to the chosen
optimizer. For more information, read the docstring of the
optimizer of your choice in <code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.optimize</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/base_classes/model/basemodel.html#hyperspy.model.BaseModel.fit" title="(in HyperSpy v2.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit()</span></code></a></p></li>
<li><p><a class="reference external" href="https://hyperspy.org/hyperspy-doc/current/reference/base_classes/model/basemodel.html#hyperspy.model.BaseModel.multifit" title="(in HyperSpy v2.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multifit()</span></code></a></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit()</span></code></p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.suspend_auto_fine_structure_width">
<span class="sig-name descname"><span class="pre">suspend_auto_fine_structure_width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.suspend_auto_fine_structure_width" title="Link to this definition">#</a></dt>
<dd><p>Disable the automatic adjustment of the core-loss edges fine
structure width.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#exspy.models.EELSModel.resume_auto_fine_structure_width" title="exspy.models.EELSModel.resume_auto_fine_structure_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resume_auto_fine_structure_width</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.two_area_background_estimation">
<span class="sig-name descname"><span class="pre">two_area_background_estimation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">powerlaw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.two_area_background_estimation" title="Link to this definition">#</a></dt>
<dd><p>Estimates the parameters of a power law background with the two
area method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>)</p></li>
<li><p><strong>E2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>)</p></li>
<li><p><strong>powerlaw</strong> (<em>PowerLaw component</em><em> or </em><em>None</em>) – If None, it will try to guess the right component from the
background components of the model</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="exspy.models.EELSModel.unset_all_edges_intensities_positive">
<span class="sig-name descname"><span class="pre">unset_all_edges_intensities_positive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive" title="Link to this definition">#</a></dt>
<dd><p>Unset all edges intensities positive by setting <code class="docutils literal notranslate"><span class="pre">ext_force_positive</span></code>
and <code class="docutils literal notranslate"><span class="pre">ext_bounded</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="material.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.material</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="signals.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">exspy.signals</span></code></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel"><code class="docutils literal notranslate"><span class="pre">EDSModel</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.add_family_lines"><code class="docutils literal notranslate"><span class="pre">add_family_lines()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.add_polynomial_background"><code class="docutils literal notranslate"><span class="pre">add_polynomial_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.as_dictionary"><code class="docutils literal notranslate"><span class="pre">as_dictionary()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.calibrate_energy_axis"><code class="docutils literal notranslate"><span class="pre">calibrate_energy_axis()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.calibrate_xray_lines"><code class="docutils literal notranslate"><span class="pre">calibrate_xray_lines()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.disable_xray_lines"><code class="docutils literal notranslate"><span class="pre">disable_xray_lines()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.enable_xray_lines"><code class="docutils literal notranslate"><span class="pre">enable_xray_lines()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.fit_background"><code class="docutils literal notranslate"><span class="pre">fit_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.fix_background"><code class="docutils literal notranslate"><span class="pre">fix_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.fix_sub_xray_lines_weight"><code class="docutils literal notranslate"><span class="pre">fix_sub_xray_lines_weight()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.fix_xray_lines_energy"><code class="docutils literal notranslate"><span class="pre">fix_xray_lines_energy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.fix_xray_lines_width"><code class="docutils literal notranslate"><span class="pre">fix_xray_lines_width()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.free_background"><code class="docutils literal notranslate"><span class="pre">free_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.free_sub_xray_lines_weight"><code class="docutils literal notranslate"><span class="pre">free_sub_xray_lines_weight()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.free_xray_lines_energy"><code class="docutils literal notranslate"><span class="pre">free_xray_lines_energy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.free_xray_lines_width"><code class="docutils literal notranslate"><span class="pre">free_xray_lines_width()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.get_lines_intensity"><code class="docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSModel.remove"><code class="docutils literal notranslate"><span class="pre">remove()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSSEMModel"><code class="docutils literal notranslate"><span class="pre">EDSSEMModel</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EDSTEMModel"><code class="docutils literal notranslate"><span class="pre">EDSTEMModel</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel"><code class="docutils literal notranslate"><span class="pre">EELSModel</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.append"><code class="docutils literal notranslate"><span class="pre">append()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.disable_background"><code class="docutils literal notranslate"><span class="pre">disable_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.disable_edges"><code class="docutils literal notranslate"><span class="pre">disable_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.disable_fine_structure"><code class="docutils literal notranslate"><span class="pre">disable_fine_structure()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.disable_free_onset_energy"><code class="docutils literal notranslate"><span class="pre">disable_free_onset_energy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.enable_background"><code class="docutils literal notranslate"><span class="pre">enable_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.enable_edges"><code class="docutils literal notranslate"><span class="pre">enable_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.enable_fine_structure"><code class="docutils literal notranslate"><span class="pre">enable_fine_structure()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.enable_free_onset_energy"><code class="docutils literal notranslate"><span class="pre">enable_free_onset_energy()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.fit"><code class="docutils literal notranslate"><span class="pre">fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.fit_background"><code class="docutils literal notranslate"><span class="pre">fit_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.fix_edges"><code class="docutils literal notranslate"><span class="pre">fix_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.fix_fine_structure"><code class="docutils literal notranslate"><span class="pre">fix_fine_structure()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.free_edges"><code class="docutils literal notranslate"><span class="pre">free_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.free_fine_structure"><code class="docutils literal notranslate"><span class="pre">free_fine_structure()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.quantify"><code class="docutils literal notranslate"><span class="pre">quantify()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.remove"><code class="docutils literal notranslate"><span class="pre">remove()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.remove_fine_structure_data"><code class="docutils literal notranslate"><span class="pre">remove_fine_structure_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.resolve_fine_structure"><code class="docutils literal notranslate"><span class="pre">resolve_fine_structure()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.resume_auto_fine_structure_width"><code class="docutils literal notranslate"><span class="pre">resume_auto_fine_structure_width()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.set_all_edges_intensities_positive"><code class="docutils literal notranslate"><span class="pre">set_all_edges_intensities_positive()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.signal"><code class="docutils literal notranslate"><span class="pre">signal</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.smart_fit"><code class="docutils literal notranslate"><span class="pre">smart_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.suspend_auto_fine_structure_width"><code class="docutils literal notranslate"><span class="pre">suspend_auto_fine_structure_width()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.two_area_background_estimation"><code class="docutils literal notranslate"><span class="pre">two_area_background_estimation()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exspy.models.EELSModel.unset_all_edges_intensities_positive"><code class="docutils literal notranslate"><span class="pre">unset_all_edges_intensities_positive()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/models.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, eXSpy Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>